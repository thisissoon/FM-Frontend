<div class="player-wrapper"
     layout="row"
     layout-fill
     md-swipe-right="openSideNav('left')"
     md-swipe-left="closeSideNav('left')"
     flex>

    <md-sidenav
        layout="column"
        class="md-sidenav-left md-whiteframe-z2"
        md-component-id="left"
        md-is-locked-open="$mdMedia('gt-md')"
        md-swipe-left="closeSideNav('left')">

        <md-autocomplete
            class="spotify-search"
            md-no-cache="false"
            md-search-text="searchText"
            md-items="item in search(searchText)"
            md-min-length="3"
            md-delay="300"
            md-selected-item="selectedItem"
            md-selected-item-change="onTrackSelected(selectedItem)"
            placeholder="Add track">

            <md-item class="md-item">
                <fm-track class="track" data-spotify-track="item"></fm-track>
            </md-item>

        </md-autocomplete>

    </md-sidenav>

    <md-content class="md-padding player" layout="column" layout-fill flex>

        <md-toolbar
            class="controls-wrapper"
            ng-if="playlist.length > 0"
            layout="row"
            layout-sm="column"
            layout-align="space-between center"
            layout-align-sm="space-around center">

            <h2 class="md-toolbar-tools now-playing">
                <span>Now Playing:</span>
            </h2>

            <div class="controls" ng-include="'partials/controls.html'"></div>

        </md-toolbar>

        <md-toolbar ng-if="!playlist.length > 0">
            <h2 class="md-toolbar-tools">
                <span>No tracks in playlist</span>
            </h2>
        </md-toolbar>

        <md-list>
            <md-item class="md-item" ng-repeat="track in playlist">
                <fm-track
                    class="track"
                    ng-class="{ playing: $first }"
                    data-spotify-track="track">
                </fm-track>
            </md-item>
        </md-list>

    </md-content>

</div>
