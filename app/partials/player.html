<md-toolbar layout="row" class="header-menu">

    <button ng-click="toggleSideNav('left')"
            hide-gt-md
            class="btn-menu">
        <md-icon md-svg-src="img/icons/ic_playlist_add_48px.svg"></md-icon>
    </button>

    <img class="logo" src="img/logo/soon.svg" height="50px" class="md-padding" alt="SOON_"/>

    <h1>thisissoon.fm</h1>

    <div class="volume">
        <md-button ng-click="toggleMute()" aria-label="mute" ng-class="{ 'md-warn': mute.mute }">
            <md-icon ng-hide="mute.mute" md-svg-src="img/icons/ic_volume_mute_24px.svg"></md-icon>
            <md-icon ng-show="mute.mute" md-svg-src="img/icons/ic_volume_off_24px.svg"></md-icon>
        </md-button>
        <md-button ng-click="volumeDown()" aria-label="volume-down">
            <md-icon md-svg-src="img/icons/ic_volume_down_24px.svg"></md-icon>
        </md-button>
        <md-button ng-click="volumeUp()" aria-label="volume-up">
            <md-icon md-svg-src="img/icons/ic_volume_up_24px.svg"></md-icon>
        </md-button>
    </div>

</md-toolbar>

<div layout="row"
     md-swipe-right="openSideNav('left')"
     md-swipe-left="closeSideNav('left')"
     flex>

    <md-sidenav
        layout="column"
        class="md-sidenav-left md-whiteframe-z2"
        md-component-id="left"
        md-is-locked-open="$mdMedia('gt-md')"
        md-swipe-left="closeSideNav('left')"
    >
        <md-autocomplete
            class="spotify-search"
            md-no-cache="false"
            md-search-text="searchText"
            md-items="item in search(searchText)"
            md-min-length="3"
            md-delay="300"
            md-selected-item="selectedItem"
            md-selected-item-change="onTrackSelected(selectedItem)"
            placeholder="Add track">
            <div layout="row" layout-align="start center">
                <img ng-src="{{ item.album.images[0].url }}"
                     class="artwork md-padding"
                     alt="{{ item.album.name }}">
                <span md-highlight-text="searchText" class="item-text">
                    {{ item.name }} - {{ item.artists[0].name }}
                </span>
            </div>
        </md-autocomplete>
    </md-sidenav>

    <div layout="column" flex>
        <md-content
            class="md-padding"
            layout="column"
            flex>

            <h2 ng-if="playlist.length > 0">Now Playing:</h2>

            <md-list>
                <md-item
                    ng-repeat="song in playlist"
                    class="md-item song"
                    ng-class="{ current: $first }">
                    <md-item-content
                        layout="row"
                        layout-align="start center">
                        <div class="md-tile-left">
                            <img ng-src="{{ song.album.images[0].url }}"
                                 class="artwork md-padding"
                                 alt="{{ item.who }}">
                        </div>

                        <div class="md-tile-content"
                             layout="row"
                             layout-align="space-around center"
                             layout-sm="column"
                             layout-align-sm="space-between center">
                            <div class="md-tile-content song-details">
                                <h3 class="song-name">
                                    {{ song.name }}
                                </h3>
                                <h4 class="song-artist" ng-repeat="artist in song.album.artists">
                                    {{ artist.name }}<span ng-if="!$last">,</span>
                                </h4>
                                <h4 class="song-album">
                                    {{ song.album.name }}
                                </h4>
                            </div>
                            <span ng-if="$first" class="md-tile-right">
                                <md-button class="md-fab md-primary" aria-label="Play" ng-show="paused" ng-click="resume()">
                                    <md-icon md-svg-src="img/icons/ic_play_arrow_24px.svg"></md-icon>
                                </md-button>
                                <md-button class="md-fab md-primary" aria-label="Pause" ng-show="!paused" ng-click="pause()">
                                    <md-icon md-svg-src="img/icons/ic_pause_24px.svg"></md-icon>
                                </md-button>
<!--
                                <md-button class="md-fab md-primary" aria-label="Stop">
                                    <md-icon md-svg-src="img/icons/ic_stop_24px.svg"></md-icon>
                                </md-button>
-->
                            </span>
                            <span class="track-length" hide-sm>
                                {{ song.duration | date: 'm:ss' }}
                            </span>
                        </div>
                    </md-item-content>
                </md-item>
            </md-list>
        </md-content>

    </div>
</div>
